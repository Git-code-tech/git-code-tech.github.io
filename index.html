<!DOCTYPE>
<html>
<head>
    <title>Ephemeris</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <script type='text/javascript' src='script.js' charset='utf-8'></script>
    <style>
        .hover-underline:hover {
            cursor: pointer;
            text-decoration: underline;
        }

        .hover-underline:hover {
            color: red;
        }
    </style>
</head>
<body>
    <div class="container-fluid" style="margin:5px;">
        <form id="form">
            <div class="row" style="margin:10px;padding:10px;">
                From&nbsp; :&nbsp; <input class="form-control" id="from" name="from" value="2022-01-01" style="width:200px;" />&nbsp;&nbsp;
                To &nbsp;: &nbsp;<input class="form-control" id="to" name="to" value="2022-01-01" style="width:200px;" />
                &nbsp;&nbsp;&nbsp;<button type="submit" class="btn btn-primary">Submit</button>
                <textarea id="txtar" rows="20" style="overflow-x: visible; overflow-y: auto; width: 95%; margin: 10px; font-size: xx-small;"></textarea>
                <button onclick="save()">Save</button>
            </div>
            <div class="container-fluid " style="height:20px;max-height:20px;display:block;">
                <div class="row">
                    <div class="col-12">
                        <h1 class="text-left">Ephemeris JS Demo</h1>
                        <h2>1.2.1</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-md-6">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label>Latitude (decimal)</label>
                                <input class="form-control" id="latitude" name="latitude" type="number" step="any" min="-90" max="90" value="41.37" />
                            </div>
                            <div class="form-group col-md-6">
                                <label>Longitude (decimal)</label>
                                <input class="form-control" id="longitude" name="longitude" type="number" step="any" min="-180" max="180" value="-71.1" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Date (UTC)</label>
                            <input class="form-control" id="date" name="date" type="date" value="2020-01-01" />
                        </div>
                        <div class="form-group">
                            <label>Time (UTC)</label>
                            <input class="form-control" id="time" name="time" type="time" value="00:00:00" />
                        </div>
                        <div class="form-group">
                            <label class="hover-underline hover-warning" for="calcShadows">
                                Calculate retrograde shadows? (Warning: performance impact)
                                <div>
                                     <input type="checkbox" id="calcShadows" />
                                </div>
                            </label>

                        </div>

                        <hr />
                        <h2>Celestial Bodies</h2>
                        <table id="bodies" class="table table-dark">
                            <thead>
                                <tr>
                                    <th>
                                        Apparent Longitudes
                                    </th>
                                    <th>
                                        Sun
                                    </th>
                                    <th>
                                        Moon
                                    </th>
                                    <th>
                                        Mercury
                                    </th>
                                    <th>
                                        Venus
                                    </th>
                                    <th>
                                        Mars
                                    </th>
                                    <th>
                                        Jupiter
                                    </th>
                                    <th>
                                        Saturn
                                    </th>
                                    <th>
                                        Uranus
                                    </th>
                                    <th>
                                        Neptune
                                    </th>
                                    <th>
                                        Pluto
                                    </th>
                                    <th>
                                        Chiron
                                    </th>
                                    <th>
                                        Sirius
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        Decimal Degrees (4 dec)
                                    </td>
                                    <td id="sun-dd">
                                    </td>
                                    <td id="moon-dd">
                                    </td>
                                    <td id="mercury-dd">
                                    </td>
                                    <td id="venus-dd">
                                    </td>
                                    <td id="mars-dd">
                                    </td>
                                    <td id="jupiter-dd">
                                    </td>
                                    <td id="saturn-dd">
                                    </td>
                                    <td id="uranus-dd">
                                    </td>
                                    <td id="neptune-dd">
                                    </td>
                                    <td id="pluto-dd">
                                    </td>
                                    <td id="chiron-dd">
                                    </td>
                                    <td id="sirius-dd">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        D/M/S
                                    </td>
                                    <td id="sun-dms">
                                    </td>
                                    <td id="moon-dms">
                                    </td>
                                    <td id="mercury-dms">
                                    </td>
                                    <td id="venus-dms">
                                    </td>
                                    <td id="mars-dms">
                                    </td>
                                    <td id="jupiter-dms">
                                    </td>
                                    <td id="saturn-dms">
                                    </td>
                                    <td id="uranus-dms">
                                    </td>
                                    <td id="neptune-dms">
                                    </td>
                                    <td id="pluto-dms">
                                    </td>
                                    <td id="chiron-dms">
                                    </td>
                                    <td id="sirius-dms">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Motion
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td id="mercury-motion">
                                    </td>
                                    <td id="venus-motion">
                                    </td>
                                    <td id="mars-motion">
                                    </td>
                                    <td id="jupiter-motion">
                                    </td>
                                    <td id="saturn-motion">
                                    </td>
                                    <td id="uranus-motion">
                                    </td>
                                    <td id="neptune-motion">
                                    </td>
                                    <td id="pluto-motion">
                                    </td>
                                    <td id="chiron-motion">
                                    </td>
                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <hr />
                        <h2>Moon Phase</h2>
                        <div class="form-group">
                            <label>Quarter Approximation value</label>
                            <input class="form-control" id="moonQuarterApproximation" name="latitude" type="number" step="0.25" min="0" max="3" value="1.5" />
                            <div>
                                <small>Example: 1.5 = 1 1/2 days on either side of the full moon counts as the approximate "full moon"</small>
                            </div>
                        </div>
                        <table id="moon" class="table table-dark">
                            <thead>
                                <tr>
                                    <th>
                                        Moon Direction
                                    </th>
                                    <th>
                                        Moon Shape
                                    </th>
                                    <th>
                                        Quarter approximation direction
                                    </th>
                                    <th>
                                        Approximate Moon Phase
                                    </th>
                                    <th>
                                        Illuminated Fraction
                                    </th>
                                    <th>
                                        Phase Decimal
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <hr />
                        <h2>Moon Orbit</h2>
                        <table id="moonOrbit" class="table table-dark">
                            <thead>
                                <tr>
                                    <th>
                                        Mean Ascending Node
                                    </th>
                                    <th>
                                        Mean Descending Node
                                    </th>
                                    <th>
                                        Mean Perigee
                                    </th>
                                    <th>
                                        Mean Apogee
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <script>
        (function () {
            new Demo()
        })();

        function save() {
            var a = document.createElement('a');
            with (a) {
                href = 'data:text/csv;base64,' + btoa(document.getElementById('txtar').value);
                download = 'csvfile.csv';
            }
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
</body>
</html>
